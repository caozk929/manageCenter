function showRawImg(url) { 
    var e = $;//<a href="#previous" class="previous"></a><a href="#next" class="next"></a>
    e("body").append('<div id="zoom"><a class="close"></a><div class="content loading"></div></div>');
    var t = e("#zoom").hide(), 
    n = e("#zoom .content"),
    r = false,
    i = null,
    s = e(window).width(),
    o = e(window).height();  
    $("#zoom").unbind('click').bind("click", function(s){ 
        r = false;
        i = null;
        t.hide();
        $("#zoom").remove(); 
    });
    $("#zoom .content").unbind('click').bind("click", function(s){ 
        s.preventDefault(); 
        s.stopPropagation();
        return false;
    });
    var l = e(new Image).hide();  
    if (!r) {
        r = true;
        t.show();
        e("body").addClass("zoomed")
    }
    n.html(l).delay(500).addClass("loading");
    function c() {
            function h(e) {
                e.show();
                n.removeClass("loading")
            }
            var t = e(this),
            r = parseInt(n.css("borderLeftWidth")),
            i = s - r * 2,
            u = o - r * 2,
            a = t.width(),
            f = t.height();
            if (a == n.width() && a <= i && f == n.height() && f <= u) {
                h(t);
                return
            }
            if (a > i || f > u) {
                var l = u < f ? u: f,
                c = i < a ? i: a;
                if (l / f <= c / a) {
                    t.width(a * l / f);
                    t.height(l)
                } else {
                    t.width(c);
                    t.height(f * c / a)
                }
            }
            n.animate({
                width: t.width(),
                height: t.height(),
                marginTop: -(t.height() / 2) - r,
                marginLeft: -(t.width() / 2) - r
            },
            200,
            function() {
                h(t)
            })
        }  
    l.load(c).attr("src", url);
}
 

function u(url) {
    var e = $;
        function c() {
            function h(e) {
                e.show();
                n.removeClass("loading")
            }
            var t = e(this),
            r = parseInt(n.css("borderLeftWidth")),
            i = s - r * 2,
            u = o - r * 2,
            a = t.width(),
            f = t.height();
            if (a == n.width() && a <= i && f == n.height() && f <= u) {
                h(t);
                return
            }
            if (a > i || f > u) {
                var l = u < f ? u: f,
                c = i < a ? i: a;
                if (l / f <= c / a) {
                    t.width(a * l / f);
                    t.height(l)
                } else {
                    t.width(c);
                    t.height(f * c / a)
                }
            }
            n.animate({
                width: t.width(),
                height: t.height(),
                marginTop: -(t.height() / 2) - r,
                marginLeft: -(t.width() / 2) - r
            },
            200,
            function() {
                h(t)
            })
        }  
        f = url;
        if (!f) return;
        var l = e(new Image).hide();
        e("#zoom .previous, #zoom .next").show();
        if (a.hasClass("zoom")) e("#zoom .previous, #zoom .next").hide();
        if (!r) {
            r = true;
            t.show();
            e("body").addClass("zoomed")
        }
        n.html(l).delay(500).addClass("loading");
        l.load(c).attr("src", f);
        i = a
    } 